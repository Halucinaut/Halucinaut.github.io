{{ define "main" }}
{{ if .Title }}
<header class="page-header">
  {{ partial "breadcrumbs.html" . }}
  <h1>{{ .Title }}</h1>
  {{ if .Description }}
  <div class="post-description">
    {{ .Description }}
  </div>
  {{ end }}
</header>
{{ end }}

<div class="projects-list">
{{ range .Pages }}
{{ if not .Params.parent_project }}
<article class="post-entry project-card">
  <a href="{{ .RelPermalink }}" class="card-link">
    {{ if .Params.cover.image }}
    <figure class="entry-cover">
      <img loading="lazy" src="{{ .Params.cover.image | absURL }}" alt="{{ .Params.cover.alt }}" />
    </figure>
    {{ end }}
    <div class="card-body">
      <header class="entry-header">
        <h2>{{ .Title }}</h2>
      </header>
      <div class="card-footer">
        <span class="post-date">{{ .Date.Format "01-02" }}</span>
        <span class="likes">{{ .Params.likes | default 0 }}</span>
      </div>
    </div>
  </a>
</article>
{{ end }}
{{ end }}
</div>

{{ if gt .Paginator.TotalPages 1 }}
<footer class="page-footer">
  <nav class="pagination">
    {{ if .Paginator.HasPrev }}
    <a class="prev" href="{{ .Paginator.Prev.URL | absURL }}">← {{ i18n "prev_page" }}</a>
    {{ end }}
    {{ if .Paginator.HasNext }}
    <a class="next" href="{{ .Paginator.Next.URL | absURL }}">{{ i18n "next_page" }} →</a>
    {{ end }}
  </nav>
</footer>
{{ end }}
{{ end }}
